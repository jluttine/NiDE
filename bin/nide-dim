#!/bin/sh

export XSECURELOCK_DIM_ALPHA=1
# XSECURELOCK_DIM_COLOR
# XSECURELOCK_DIM_FPS
# export XSECURELOCK_DIM_OVERRIDE_COMPOSITOR_DETECTION=1
# XSECURELOCK_DIM_MAX_FILL_SIZE
export XSECURELOCK_DIM_TIME_MS=10000

# FIXME: Don't use store path, install in persistent location
dimmer=/nix/store/h26i1awcidfmxc2nxlfihdvcpwxv3vgb-xsecurelock-1.7.0/libexec/xsecurelock/dimmer
until_nonidle=/nix/store/h26i1awcidfmxc2nxlfihdvcpwxv3vgb-xsecurelock-1.7.0/libexec/xsecurelock/until_nonidle

$until_nonidle $dimmer

